import{r as n,j as e,z as i}from"./index-BOAtLYEj.js";import{c as f}from"./api-BNVkAZdi.js";function g({initialData:t,onSave:d,title:x="Content Editor"}){const[o,l]=n.useState(""),[r,c]=n.useState(!0);n.useEffect(()=>{t&&l(JSON.stringify(t,null,2))},[t]);const m=a=>{const u=a.target.value;l(u);try{JSON.parse(u),c(!0)}catch{c(!1)}},s=()=>{try{const a=JSON.parse(o);d(a),i.success("Content updated successfully!")}catch{i.error("Invalid JSON. Please fix errors before saving.")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:x}),e.jsxs("button",{onClick:s,disabled:!r,className:`px-6 py-2 font-semibold rounded-lg transition-all whitespace-nowrap flex items-center ${r?"bg-gradient-to-r from-amber-600 to-amber-500 text-white hover:from-amber-700 hover:to-amber-600":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:[e.jsx("i",{className:"ri-save-line mr-2"}),"Save JSON"]})]}),e.jsx("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl p-6",children:e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:`text-sm mb-2 ${r?"text-green-500":"text-red-500"}`,children:r?"Valid JSON":"Invalid JSON Syntax"}),e.jsx("textarea",{value:o,onChange:m,className:`w-full h-[600px] font-mono text-sm p-4 bg-gray-950 border rounded-lg focus:outline-none focus:ring-2 ${r?"border-gray-700 focus:ring-amber-500 text-gray-300":"border-red-500 focus:ring-red-500 text-red-300"}`})]})})]})}function N({pageKey:t,title:d}){const[x,o]=n.useState(null),[l,r]=n.useState(!0);n.useEffect(()=>{c()},[t]);const c=async()=>{try{r(!0);const s=await f.getContent(t);o(s)}catch(s){console.error(`Failed to load ${t} data:`,s),i.error("Failed to load content")}finally{r(!1)}},m=async s=>{try{await f.updateContent(t,s),o(s)}catch(a){console.error("Failed to save data:",a),i.error("Failed to save changes")}};return l?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"ri-loader-4-line text-4xl text-amber-500 animate-spin"}),e.jsx("p",{className:"text-gray-400 mt-4",children:"Loading content..."})]})}):e.jsx("div",{className:"p-8",children:e.jsx(g,{initialData:x,onSave:m,title:d})})}export{N as default};
//# sourceMappingURL=page-CiEKdONC.js.map
