import{r as d,j as e,z as m}from"./index-BOAtLYEj.js";import{c as b}from"./api-BNVkAZdi.js";function f({data:u,onSave:i}){const[a,n]=d.useState(u),g=()=>{i(a),setTimeout(()=>{m.success("Portfolio updated successfully!")},0)},c=(s,r,t)=>{const l=[...a.projects];l[s]={...l[s],[r]:t},n({...a,projects:l})},o=(s,r)=>{const t=[...a.projects];t[s]={...t[s],categories:r.split(",").map(l=>l.trim())},n({...a,projects:t})},x=()=>{const s=[...a.projects,{title:"",description:"",image:"",categories:[],date:""}];n({...a,projects:s})},p=s=>{const r=a.projects.filter((t,l)=>l!==s);n({...a,projects:r})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Portfolio Editor"}),e.jsxs("button",{onClick:g,className:"px-6 py-2 bg-gradient-to-r from-amber-600 to-amber-500 text-white font-semibold rounded-lg hover:from-amber-700 hover:to-amber-600 transition-all whitespace-nowrap",children:[e.jsx("i",{className:"ri-save-line mr-2"}),"Save Changes"]})]}),e.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[e.jsx("i",{className:"ri-gallery-line mr-2 text-amber-500"}),"Portfolio Projects"]}),a.projects.map((s,r)=>e.jsxs("div",{className:"mb-6 p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-lg font-medium text-white",children:["Project ",r+1]}),e.jsxs("button",{onClick:()=>p(r),className:"px-3 py-1 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-all text-sm whitespace-nowrap",children:[e.jsx("i",{className:"ri-delete-bin-line mr-1"}),"Remove"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),e.jsx("input",{type:"text",value:s.title,onChange:t=>c(r,"title",t.target.value),className:"w-full px-4 py-2 bg-gray-900/50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date"}),e.jsx("input",{type:"text",value:s.date,onChange:t=>c(r,"date",t.target.value),className:"w-full px-4 py-2 bg-gray-900/50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:s.description,onChange:t=>c(r,"description",t.target.value),className:"w-full px-4 py-2 bg-gray-900/50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500",rows:3})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Image URL"}),e.jsx("input",{type:"text",value:s.image,onChange:t=>c(r,"image",t.target.value),className:"w-full px-4 py-2 bg-gray-900/50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Categories (comma-separated)"}),e.jsx("input",{type:"text",value:s.categories.join(", "),onChange:t=>o(r,t.target.value),className:"w-full px-4 py-2 bg-gray-900/50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Archiving, Research"})]})]})]},r)),e.jsxs("button",{onClick:x,className:"w-full py-3 border-2 border-dashed border-gray-700 rounded-lg text-gray-400 hover:border-amber-600 hover:text-amber-500 transition-all whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Add Project"]})]})]})}function y(){const[u,i]=d.useState(null),[a,n]=d.useState(!0);d.useEffect(()=>{g()},[]);const g=async()=>{try{const o=await b.getContent("portfolio");i(o)}catch(o){console.error("Failed to load portfolio data:",o),m.error("Failed to load content")}finally{n(!1)}},c=async o=>{try{await b.updateContent("portfolio",o),i(o),m.success("Portfolio updated successfully!")}catch(x){console.error("Failed to save data:",x),m.error("Failed to save changes")}};return a?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"ri-loader-4-line text-4xl text-amber-500 animate-spin"}),e.jsx("p",{className:"text-gray-400 mt-4",children:"Loading content..."})]})}):e.jsx("div",{className:"p-8",children:e.jsx(f,{data:u,onSave:c})})}export{y as default};
//# sourceMappingURL=page-madwE_nP.js.map
